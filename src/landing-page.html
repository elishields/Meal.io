<!DOCTYPE html>
<html lang="eng">
<head>
	<title>Meal.io</title>
	<meta charset="utf-8">

	<!-- Link Bootstrap files -->
	<!--<script type="text/javascript" src="jquery/js/jquery-3.1.1.js"></script>-->
	<link rel="stylesheet" href="bootstrap-3.3.7-dist/css/bootstrap.css">
	<script src="bootstrap-3.3.7-dist/js/bootstrap.js"></script>
    <script src="https://www.gstatic.com/firebasejs/live/3.1/firebase.js"></script>

	<!-- Link JavaScript files -->

	<!-- Link base stylesheet -->
	<link rel="stylesheet" href="landing-page.css">

</head>
<body>
<div class="container-fluid" id="body-landing">
    <div class="row">
        <div class="col-xs-12 logo-landing">
            <img src="../res/Logo-str.png" alt="Meal.io logo" class="img-responsive center-block">
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 wrapper">
            <h3>Welcome Food Waste Hater!</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-10 col-xs-offset-1">
            <div class="form-landing">
                <h4>Please login or sign up below:</h4>
                <input type="text" id="email" class="form-control input-md" placeholder="Email" />
                <br>
                <input type="password" id="password" class="form-control input-md" placeholder="Password" />
                <br>
                <div class="wrapper">
                    <span class="group-btn">
                        <a href="#" class="btn btn-default btn-lg" id="btnLogin">Login</a>
                    </span>
                    <span class="group-btn">
                        <a href="#" class="btn btn-default btn-lg" id="btnSignUp">Signup</a>
                    </span>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-xs-12 img-landing">
            <img src="../res/cycle-landing.png" alt="Meal.io feature cycle" class="img-responsive center-block">
        </div>
    </div>
</div>

<script>
    //init firebase

    //get all elements
        email = document.getElementById('email');
        passw = document.getElementById('password');
        login = document.getElementById('btnLogin');
        signup = document.getElementById('btnSignUp');
    //signup event
        btnSignUp.addEventListener('click', e =>{
            const auth = firebase.auth();
            //TODO:check for real emails
            const promise = auth.createUserWithEmailAndPassword(email.value, passw.value);
            promise.catch(e => console.log(e.message));
            gotoShopList();
        });
    //login event
        btnLogin.addEventListener('click', e =>{
            const auth = firebase.auth();
            const promise = auth.signInWithEmailAndPassword(email.value, passw.value);
            promise.catch(e => console.log(e.message));
            gotoShopList();
        });
    //signed in listener
        firebase.auth().onAuthStateChanged(firebaseUser => {
            if(firebaseUser){
                console.log("User is logged in");
            } else {
                console.log('User is not logged in');
            }
        });
    //link to grocery list page once user hits login or signup button
        function gotoShopList(){

        }
</script>